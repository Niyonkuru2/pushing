{% extends 'admin/AdminDashboard.html' %}
{% block dashboard_content %}
<div class="container">
  <h4 class="text-center text-success mt-4">Add Lease</h4>

  {% if message %}
    <div class="alert alert-warning mt-3 text-center" role="alert">
      {{ message }}
    </div>
  {% endif %}

  <form method="POST" class="mt-4">
    {% csrf_token %}
    
    <!-- Unit Selection -->
    <div class="mb-3">
      <label for="unit" class="form-label">Select Unit</label>
      <select class="form-select" id="unit" name="unit" required>
        {% if units %}
          {% for unit in units %}
            <option value="{{ unit.id }}">{{ unit.property.name }}</option>
          {% endfor %}
        {% else %}
          <option disabled>No units available</option>
        {% endif %}
      </select>
    </div>

    <!-- Landlord Selection -->
    <div class="mb-3">
      <label for="tenant" class="form-label">Select Landlord</label>
      <select class="form-select" id="tenant" name="tenant" required>
        {% if tenants %}
          {% for tenant in tenants %}
            <option value="{{ tenant.id }}">{{ tenant.username }}</option>
          {% endfor %}
        {% else %}
          <option disabled>No landlords available</option>
        {% endif %}
      </select>
    </div>

    <!-- Buyer Selection -->
    <div class="mb-3">
      <label for="buyer" class="form-label">Select Buyer</label>
      <select class="form-select" id="buyer" name="buyer" required>
        {% if buyers %}
          {% for buyer in buyers %}
            <option value="{{ buyer.id }}">{{ buyer.user.username }}</option>
          {% endfor %}
        {% else %}
          <option disabled>No buyers available</option>
        {% endif %}
      </select>
    </div>

    <!-- Start Date -->
    <div class="mb-3">
      <label for="start_date" class="form-label">Start Date</label>
      <input type="date" class="form-control" id="start_date" name="start_date" required>
    </div>

    <!-- End Date -->
    <div class="mb-3">
      <label for="end_date" class="form-label">End Date</label>
      <input type="date" class="form-control" id="end_date" name="end_date" required>
    </div>

    <!-- Rent Amount -->
    <div class="mb-3">
      <label for="rent_Ammount" class="form-label">Rent Amount</label>
      <input type="number" class="form-control" id="rent_Ammount" name="rent_Ammount" placeholder="Enter rent amount" required>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Save Lease</button>
  </form>
</div>
{% endblock %}
